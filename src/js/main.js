(function(months,monthMin,days,daysMin,seasons,scrollSmooth){'use strict';function postDate(daysName,daysMinName,monthsName,monthsMinName,seasonsName){function innerDate(counter,dateType){var newCounter;dateType==='date-'?newCounter=-counter:newCounter=counter;var _msInDay=86400000,_localDate=new Date(Date.now()+newCounter*_msInDay),_day=_localDate.getDate(),_month=_localDate.getMonth()+1,_year=_localDate.getFullYear();var dayDefault=addZero(_day),monthDefault=addZero(_month),defaultDate=dayDefault+'.'+monthDefault+'.'+_year;var dateClass=dateType+counter,nodeList=document.querySelectorAll('.'+dateClass);for(var i=0;i<nodeList.length;i++){var dateFormat=nodeList[i].dataset.format;dateFormat!==undefined&&dateFormat!==''?nodeList[i].innerHTML=String(changeFormat(dayDefault,_month,_year,dateFormat,newCounter)):nodeList[i].innerHTML=defaultDate;}}function changeFormat(_day,_month,_year,format,counter){var innerFormat=format;var testFormat=['dd','mm','yyyy','dayFull','monthFull','season','year'],dateFormat={dd:_day,mm:addZero(_month),yyyy:_year,dayFull:getDaysName(_day,_month,_year,daysName,!1),monthFull:getMonthName(_month,monthsName,!1),year:getYearWithCounter(_year,counter),season:getSeasonsName(seasonsName,_month,!1)};for(var i=0;i<testFormat.length;i++){var string=testFormat[i];var regExp=new RegExp(string);innerFormat=innerFormat.replace(regExp,dateFormat[string]);}return innerFormat.split(' ').join('\xA0');}function getDaysName(_day,_month,_year,daysName,bigFirstLetter){return changeFirstLetter(bigFirstLetter,daysName[new Date(_year,_month-1,_day).getDay()]);}function getMonthName(_month,monthsName,bigFirstLetter,counter){var monthCounter=counter?counter:0;var month;return _month+monthCounter>12?month=monthCounter-(12-_month):month=_month+monthCounter,_month+monthCounter<=0?month=12+monthCounter+1:month=_month+monthCounter,changeFirstLetter(bigFirstLetter,monthsName[month-1]);}function getSeasonsName(array,month,bigFirstLetter){var monthNumber=month===12?0:month,seasonIndex=monthNumber/3<0?Math.ceil(monthNumber/3):Math.floor(monthNumber/3);return changeFirstLetter(bigFirstLetter,array[seasonIndex]);}function getYearWithCounter(year,counter){return year+counter;}function addZero(numb){return numb<10?'0'+numb:numb;}function changeFirstLetter(isBig,str){return isBig&&str&&str.length>0?str[0].toUpperCase()+str.slice(1):str;}var _counterLength=60;for(var counter=0;counter<_counterLength;counter++)innerDate(counter,'date-'),innerDate(counter,'date');}function banner(){function hideBannerScroll(){var e=$('.banner'),t=$('.main-banner'),i=$(window).scrollTop(),o=i+$(window).height(),r=$(window).width();var n=0;for(var _e=0;_e<arguments.length;_e++)$(arguments[_e]).each(function(e,t){var a=$(t).offset().top,c=a+$(t).outerHeight(),s=$(t).offset().left,l=s+$(t).width();a<=o&&c>=i&&s<=r&&l>=0&&(n+=1);});i<=100||n>0?e.fadeOut():e.fadeIn().css({bottom:t.outerHeight()});}$(window).on('scroll resize',function(){hideBannerScroll('.x_order_form','.footer','.promo');});var bannerCross=document.querySelector('.banner__cross');bannerCross.addEventListener('click',function(){$('.banner').addClass('banner--unshown');});}function form(){function randomInteger(min,max){var rand=min+Math.random()*(max+1-min);return Math.floor(rand);}var counter=1;setInterval(function(){var randNum=randomInteger(27,47);counter==1?($('.online-people').fadeOut(1100,function(){$(this).text('116 продаж за последний час');}).fadeIn(),counter=0):($('.online-people').fadeOut(1100,function(){$(this).text('Сейчас на сайте '+randNum+' человек');}).fadeIn(),counter=1);},6000);}function confirm(){function outNum(num,elem,time,step){var traget=document.querySelector('#'+elem);var startFrom=0;var iterations=Math.round(time/(num/step));var interval=setInterval(function(){startFrom+=step,startFrom==num&&clearInterval(interval),traget.innerHTML=startFrom;},iterations);}function initCounters(){outNum(99,'js_number1',2000,1),outNum(98,'js_number2',2500,1),outNum(96,'js_number3',3000,1),flag=!0;}var el=document.querySelector('.confirm');var flag=!1;window.addEventListener('scroll',function(){(el.getBoundingClientRect().top<=0&&!flag||el.getBoundingClientRect().bottom===0&&!flag)&&initCounters();});}function reviews(){$('.reviews__wrapper').slick({dots:!0,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,adaptiveHeight:!0,prevArrow:$('.arrow--prev'),nextArrow:$('.arrow--next'),autoplay:!1,autoplaySpeed:5000,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,autoplay:!1}},{breakpoint:768,settings:{dots:!0,slidesToShow:1,slidesToScroll:1,autoplay:!1}}]}),$('.reviews__wrapper').on('afterChange',function(event,slick,currentSlide){$(this).find('.slick-slide.text-open').not('.slick-active').removeClass('text-open'),$('.reviews__item').removeClass('text-open');}),$('.js-show-comment').on('click',function(){var targetButton=this;$('.slide').not('.slick-active').removeClass('text-open'),targetButton.parentElement.classList.toggle('text-open');}),reviewsForm();}function reviewsForm(){$(document).ready(function(){var toggleFormBtn=$('.toggle-form-btn');var reviewsBottom=$('.reviews__bottom');var reviewsCta=$('.reviews-cta');var reviewsInputsWrap=$('.reviews-form__field-wrap');var inputFile=$('.input-file');var labelFile=$('.reviews-form__file');var reviewsInput=$('.reviews-input');var reviewsInputText=$('.reviews-input-text');var reviewsInputNumber=$('.reviews-input-number');var reviewsInputTextarea=$('.reviews-form__textarea');var reviewsInputTextareaJS=document.querySelector('.reviews-form__textarea');var reviewsInputName=$('.reviews-form__input-name');var reviewsPopup=$('.reviews-popup');var fileText=$('.reviews-form__file-text');var fileImg=$('.reviews-form__file-img img');var fileIcon=$('.reviews-form__checkmark-icon');var fileFlag=!0;reviewsInputTextareaJS.value='',reviewsInputTextarea.on('input',function(){$(this).val().trim().length>0?$(this).addClass('o-auto'):$(this).removeClass('o-auto');}),inputFile.change(function(e){inputFile.val()&&fileFlag&&(fileText.html('Фото загружено!'),fileImg.hide(),fileIcon.show(),labelFile.addClass('rloaded'),fileFlag=!1);}),reviewsInputNumber.on('change',function(){var that=this;setTimeout(function(){+that.value>=18&&+that.value<=120?(that.parentElement.parentElement.classList.add('valid'),that.parentElement.parentElement.classList.remove('invalid')):(that.parentElement.parentElement.classList.remove('valid'),that.parentElement.parentElement.classList.add('invalid'));},0);}),reviewsInputText.on('change',function(){var that=this;setTimeout(function(){var res=/[^a-zA-Zа-яА-ЯїЇєЄіІёЁ]/g.exec(that.value);that.value=that.value.replace(res,''),that.value.replace(res,'').length===0?(that.parentElement.parentElement.classList.add('invalid'),that.parentElement.parentElement.classList.remove('valid')):(that.parentElement.parentElement.classList.remove('invalid'),that.parentElement.parentElement.classList.add('valid'));},0);}),reviewsInputTextareaJS.addEventListener('input',function(){var that=this;that.value.length===0?(that.parentElement.classList.add('invalid'),that.parentElement.classList.remove('valid')):(that.parentElement.classList.remove('invalid'),that.parentElement.classList.add('valid'));}),inputFile.click(function(){return fileFlag?void 0:!1;}),toggleFormBtn.on('click',function(){toggleFormBtn.hide(),reviewsCta.show();}),$('.reviews-form').submit(function(){reviewsInputTextarea.val().length!==0&&reviewsInputName.val().length!==0&&reviewsInputNumber.val()>=18&&reviewsInputNumber.val()<=120?(reviewsCta.hide(),toggleFormBtn.show(),reviewsPopup.fadeIn(),event.preventDefault(),setTimeout(function(){reviewsPopup.fadeOut();},2000),fileFlag=!0,reviewsInput.val(''),fileText.html('Загрузите фотографию'),fileImg.show(),fileIcon.hide(),labelFile.removeClass('rloaded'),reviewsInputsWrap.removeClass('invalid'),reviewsInputsWrap.removeClass('valid'),$('.reviews-form__star').removeClass('filled')):(reviewsInputsWrap.each(function(i){reviewsInputsWrap[i].classList.contains('valid')||reviewsInputsWrap[i].classList.add('invalid');}),event.preventDefault());});});}function footer(){function randomInteger(min,max){var rand=min-0.5+Math.random()*(max-min+1);return rand=Math.round(rand),rand;}function operatorOnline(min,max){var op_on=randomInteger(min,max),op_raz=op_on-randomInteger(5,9);$('.footer__count--online').text(op_on),$('.footer__count--offline').text(op_raz),setTimeout(operatorOnline,15000,42,24);}operatorOnline(42,24);}function main(){scrollSmooth(),form(),banner(),confirm(),reviews(),footer();}months=['января','февраля','марта','апреля','мая','июня','июля','августа','сентября','октября','ноября','декабря'],monthMin=['янв','фев','мар','апр','май','июн','июл','авг','сен','окт','ноя','дек'],days=['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],daysMin=['вс','пн','вт','ср','чт','пт','сб'],seasons=['зима','весна','лето','осень'],document.body.classList.contains('ev-date')&&document.addEventListener('DOMContentLoaded',function(){postDate(days,daysMin,months,monthMin,seasons);}),scrollSmooth=function(){$(document).on('click','a[href^="#"]',function(event){event.preventDefault(),$('html, body').animate({scrollTop:$($.attr(this,'href')).offset().top},1500);});},document.documentElement.clientWidth<480?window.addEventListener('scroll',function(){return setTimeout(main,1000);},{once:!0}):main();}());